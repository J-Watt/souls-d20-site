(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[840],{296:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});let r=(0,n(2115).createContext)({})},1402:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var r=n(3142);function o(e){return(0,r.G)(e)&&"offsetHeight"in e}},1408:(e,t,n)=>{"use strict";n.d(t,{N:()=>w});var r=n(5155),o=n(2115),i=n(296),l=n(4416),s=n(6553),a=n(9686),u=n(1402),c=n(3127);class d extends o.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,n=(0,u.s)(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function f(e){let{children:t,isPresent:n,anchorX:i,root:l}=e,s=(0,o.useId)(),a=(0,o.useRef)(null),u=(0,o.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=(0,o.useContext)(c.Q);return(0,o.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:o,right:c}=u.current;if(n||!a.current||!e||!t)return;a.current.dataset.motionPopId=s;let d=document.createElement("style");f&&(d.nonce=f);let h=null!=l?l:document.head;return h.appendChild(d),d.sheet&&d.sheet.insertRule('\n          [data-motion-pop-id="'.concat(s,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===i?"left: ".concat(o):"right: ".concat(c),"px !important;\n            top: ").concat(r,"px !important;\n          }\n        ")),()=>{h.contains(d)&&h.removeChild(d)}},[n]),(0,r.jsx)(d,{isPresent:n,childRef:a,sizeRef:u,children:o.cloneElement(t,{ref:a})})}let h=e=>{let{children:t,initial:n,isPresent:i,onExitComplete:s,custom:u,presenceAffectsLayout:c,mode:d,anchorX:h,root:m}=e,g=(0,l.M)(p),v=(0,o.useId)(),w=!0,y=(0,o.useMemo)(()=>(w=!1,{id:v,initial:n,isPresent:i,custom:u,onExitComplete:e=>{for(let t of(g.set(e,!0),g.values()))if(!t)return;s&&s()},register:e=>(g.set(e,!1),()=>g.delete(e))}),[i,g,s]);return c&&w&&(y={...y}),(0,o.useMemo)(()=>{g.forEach((e,t)=>g.set(t,!1))},[i]),o.useEffect(()=>{i||g.size||!s||s()},[i]),"popLayout"===d&&(t=(0,r.jsx)(f,{isPresent:i,anchorX:h,root:m,children:t})),(0,r.jsx)(a.t.Provider,{value:y,children:t})};function p(){return new Map}var m=n(5601);let g=e=>e.key||"";function v(e){let t=[];return o.Children.forEach(e,e=>{(0,o.isValidElement)(e)&&t.push(e)}),t}let w=e=>{let{children:t,custom:n,initial:a=!0,onExitComplete:u,presenceAffectsLayout:c=!0,mode:d="sync",propagate:f=!1,anchorX:p="left",root:w}=e,[y,x]=(0,m.xQ)(f),b=(0,o.useMemo)(()=>v(t),[t]),E=f&&!y?[]:b.map(g),C=(0,o.useRef)(!0),j=(0,o.useRef)(b),k=(0,l.M)(()=>new Map),[z,I]=(0,o.useState)(b),[M,R]=(0,o.useState)(b);(0,s.E)(()=>{C.current=!1,j.current=b;for(let e=0;e<M.length;e++){let t=g(M[e]);E.includes(t)?k.delete(t):!0!==k.get(t)&&k.set(t,!1)}},[M,E.length,E.join("-")]);let L=[];if(b!==z){let e=[...b];for(let t=0;t<M.length;t++){let n=M[t],r=g(n);E.includes(r)||(e.splice(t,0,n),L.push(n))}return"wait"===d&&L.length&&(e=L),R(v(e)),I(b),null}let{forceRender:S}=(0,o.useContext)(i.L);return(0,r.jsx)(r.Fragment,{children:M.map(e=>{let t=g(e),o=(!f||!!y)&&(b===M||E.includes(t));return(0,r.jsx)(h,{isPresent:o,initial:(!C.current||!!a)&&void 0,custom:n,presenceAffectsLayout:c,mode:d,root:w,onExitComplete:o?void 0:()=>{if(!k.has(t))return;k.set(t,!0);let e=!0;k.forEach(t=>{t||(e=!1)}),e&&(null==S||S(),R(j.current),f&&(null==x||x()),u&&u())},anchorX:p,children:e},t)})})}},3127:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});let r=(0,n(2115).createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"})},3142:(e,t,n)=>{"use strict";function r(e){return"object"==typeof e&&null!==e}n.d(t,{G:()=>r})},3577:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});let r="undefined"!=typeof window},4416:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});var r=n(2115);function o(e){let t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}},5601:(e,t,n)=>{"use strict";n.d(t,{xQ:()=>i});var r=n(2115),o=n(9686);function i(e=!0){let t=(0,r.useContext)(o.t);if(null===t)return[!0,null];let{isPresent:n,onExitComplete:l,register:s}=t,a=(0,r.useId)();(0,r.useEffect)(()=>{if(e)return s(a)},[e]);let u=(0,r.useCallback)(()=>e&&l&&l(a),[a,l,e]);return!n&&l?[!1,u]:[!0]}},5603:()=>{},6553:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var r=n(2115);let o=n(3577).B?r.useLayoutEffect:r.useEffect},7840:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E});var r=n(5155),o=n(2115);function i(e,t){return Object.freeze({...e,...t})}let l=(0,o.createContext)(null);function s(){let e=(0,o.use)(l);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var a=n(5027),u=n.n(a);let c=(0,o.forwardRef)(function({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:s,placeholder:u,style:c,whenReady:d,zoom:f,...h},p){let[m]=(0,o.useState)({className:i,id:s,style:c}),[g,v]=(0,o.useState)(null),w=(0,o.useRef)(void 0);(0,o.useImperativeHandle)(p,()=>g?.map??null,[g]);let y=(0,o.useCallback)(r=>{if(null!==r&&!w.current){let o=new a.Map(r,h);w.current=o,null!=n&&null!=f?o.setView(n,f):null!=e&&o.fitBounds(e,t),null!=d&&o.whenReady(d),v(Object.freeze({__version:1,map:o}))}},[]);(0,o.useEffect)(()=>()=>{g?.map.remove()},[g]);let x=g?o.createElement(l,{value:g},r):u??null;return o.createElement("div",{...m,ref:y},x)});function d(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function f(e,t){var n,r;return n=null==t?function(t,n){let r=(0,o.useRef)(void 0);return r.current||(r.current=e(t,n)),r}:function(n,r){let i=(0,o.useRef)(void 0);i.current||(i.current=e(n,r));let l=(0,o.useRef)(n),{instance:s}=i.current;return(0,o.useEffect)(function(){l.current!==n&&(t(s,n,l.current),l.current=n)},[s,n,t]),i},r=function(e){var t;let r=s(),i=n(function(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}(e,r),r);return!function(e,t){let n=(0,o.useRef)(t);(0,o.useEffect)(function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}(r.map,e.attribution),!function(e,t){let n=(0,o.useRef)(void 0);(0,o.useEffect)(function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}},[e,t])}(i.current,e.eventHandlers),t=i.current,(0,o.useEffect)(function(){return(r.layerContainer??r.map).addLayer(t.instance),function(){r.layerContainer?.removeLayer(t.instance),r.map.removeLayer(t.instance)}},[r,t]),i},(0,o.forwardRef)(function(e,t){let{instance:n,context:i}=r(e).current;(0,o.useImperativeHandle)(t,()=>n);let{children:s}=e;return null==s?null:o.createElement(l,{value:i},s)})}n(7650);let h=f(function({bounds:e,url:t,...n},r){let o=new a.ImageOverlay(t,e,n);return d(o,i(r,{overlayContainer:o}))},function(e,t,n){if(t.bounds instanceof a.LatLngBounds&&t.bounds!==n.bounds&&e.setBounds(t.bounds),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=t.zIndex&&t.zIndex!==n.zIndex&&e.setZIndex(t.zIndex),t.bounds!==n.bounds){let n=t.bounds instanceof a.LatLngBounds?t.bounds:new a.LatLngBounds(t.bounds);e.setBounds(n)}t.url!==n.url&&e.setUrl(t.url)}),p=f(function({position:e,...t},n){let r=new a.Marker(e,t);return d(r,i(n,{overlayContainer:r}))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())});function m(){return s().map}n(5603);var g=n(7909),v=n(1408);let w=(0,g.default)(()=>Promise.all([n.e(130),n.e(179)]).then(n.bind(n,3179)),{loadableGenerated:{webpack:()=>[3179]},ssr:!1}),y=[1224,2370],x=[[0,0],[4608,6144]],b=[{id:"gil-othrond",name:"Gil Othrond",pos:[1269,3193],img:"/images/landmarks/Gil Othrond.jpg",text:"The golden capital city of the empire. Seat of power for the god king Ilveren. The city sprawls underneath the glow of the world tree which extends up the cliffsides of the Gilded Plateau, over the Sea of Gilded Roots and above the golden and white domes of the cities buildings. Gil Othrond uses multiple world tree seedlings planted in gathering squares throughout the city as magical resting places. Most of the continent of Idorim uses the Pressed Gold of Gil Othrond as an accepted currency due to their immense riches and exerted power."},{id:"mirro",name:"Mirro",pos:[2470,2585],img:"/images/landmarks/Mirro.jpg",text:"The pale blue city under the watching gaze of the giant volcanic mountain of Gargos. Mirro winds and twists across small islands overtop of the vivid and pale blue waters of the lake of its same name. Each island connected via bridges and low walkways over the water where gravity seems to lessen. Mirro was the first city in the Sunless Isle to discover the powerful floating substance of wetfire, and bring about a technological revolution which resulted in civil war. The separationists of Mirro fought for open trade and access to the Empire of Erume to the north. The end of the war lead to the subjugation of Mirro by the religious capital Haslat."},{id:"upper-halloe",name:"Upper Halloe",pos:[986,912],img:"/images/landmarks/Upper Halloe.jpg",text:"Upper Halloe is the jungle capital of the islands known as The Halloes. It is a difficult city to access due to its distance from the coast, but its proximity to the ancient magic dragon Umyss and his scaled and entrance-less keep is what initially caused the city to grow faster than any other in the islands. The stone buildings of the city blend with the overgrown jungle and contrast with the wooden structures build into the large trees that spiral around each other on the city's outskirts. The pyromancy college of Upper Halloe is known as a center for pestilence pyromancy research which allows its scholars and priests to commune and control the very aspects of nature."},{id:"nocstend",name:"Nocstend",pos:[1631,1868],img:"/images/landmarks/Nocstend.jpg",text:"The ancient capital of the Forest of Stars. The city is built above and around vast gardens of glowing flora native to the forest. The upper city is built upon great stairs and walkways of marble and silver which punctuate the glowing seedlings which drift through the air. Tall gothic towers pierce the skyline and connect to Nocstend's Grand Cathedral which holds the massive purple crystal, radiating is magical resting protection. Underneath the crystal is the silver chalice which collects fallen adventurers as condensation that reforms into the amphitheater below."}];function E(){var e;let t=(0,o.useRef)(null),[n,i]=(0,o.useState)(null),[l,s]=(0,o.useState)(null);return(0,r.jsxs)("div",{ref:t,className:"relative rounded-2xl overflow-hidden shadow-soft w-full",style:{height:"80vh"},children:[(0,r.jsxs)(c,{crs:u().CRS.Simple,center:y,zoom:0,zoomControl:!0,scrollWheelZoom:!0,style:{height:"100%",width:"100%"},maxBounds:x,maxBoundsViscosity:1,wheelPxPerZoomLevel:120,zoomSnap:.25,zoomDelta:.25,children:[(0,r.jsx)(h,{url:"/map/SD20WorldMap.jpg",bounds:x}),b.map(e=>{let t;return(0,r.jsx)(p,{position:{lat:(t=e.pos)[0],lng:t[1]},icon:u().divIcon({html:'<div class="golden-marker"></div>',className:"custom-marker-container",iconSize:[24,24],iconAnchor:[12,12]}),eventHandlers:{click:t=>{let n=t.target._map.latLngToContainerPoint(t.latlng);i({id:e.id,title:e.name,body:e.text,img:e.img,latlng:t.latlng}),s({x:n.x,y:n.y})}}},e.id)}),(0,r.jsx)(C,{bounds:x,startCenter:y,zoomOutExtra:1,zoomInExtra:2,defaultZoomOffset:-.25}),(0,r.jsx)(j,{active:!!n,latlng:null!=(e=null==n?void 0:n.latlng)?e:null,onRecalc:e=>s(e)}),(0,r.jsx)(k,{onDismiss:()=>i(null)})]}),(0,r.jsx)(v.N,{children:n&&l&&(0,r.jsx)(w,{x:l.x,y:l.y,title:n.title,body:n.body,imgSrc:n.img,onClose:()=>i(null)})})]})}function C(e){let{bounds:t,startCenter:n,zoomOutExtra:r,zoomInExtra:i,defaultZoomOffset:l}=e,s=m();return(0,o.useEffect)(()=>{let e=s.getBoundsZoom(t,!0);s.setMinZoom(e-r),s.setMaxZoom(e+i),s.setMaxBounds(t),s.setView(n,e+l,{animate:!1})},[s,t,n,r,i,l]),null}function j(e){let{active:t,latlng:n,onRecalc:r}=e,i=m();return(0,o.useEffect)(()=>{if(!t||!n)return void r(null);let e=()=>{let e=i.latLngToContainerPoint(n);r({x:e.x,y:e.y})};return e(),i.on("move zoom resize",e),()=>{i.off("move zoom resize",e)}},[t,n,i,r]),null}function k(e){let{onDismiss:t}=e;return!function(e){let t=m();(0,o.useEffect)(function(){return t.on(e),function(){t.off(e)}},[t,e])}({click:()=>t()}),null}},9686:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});let r=(0,n(2115).createContext)(null)}}]);